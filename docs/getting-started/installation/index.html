<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Installation | EclipseSLM</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="Eclipse Service Lifecycle Management">
    
    <link rel="preload" href="/slm//assets/css/0.styles.6dc1a91a.css" as="style"><link rel="preload" href="/slm//assets/js/app.6dfda492.js" as="script"><link rel="preload" href="/slm//assets/js/3.32cec118.js" as="script"><link rel="preload" href="/slm//assets/js/2.b754552f.js" as="script"><link rel="preload" href="/slm//assets/js/36.52862131.js" as="script"><link rel="prefetch" href="/slm//assets/js/1.7730b5e9.js"><link rel="prefetch" href="/slm//assets/js/12.15cb0d45.js"><link rel="prefetch" href="/slm//assets/js/13.de2923a9.js"><link rel="prefetch" href="/slm//assets/js/14.372c0987.js"><link rel="prefetch" href="/slm//assets/js/15.2fec92c6.js"><link rel="prefetch" href="/slm//assets/js/16.784e439c.js"><link rel="prefetch" href="/slm//assets/js/17.e507cd9a.js"><link rel="prefetch" href="/slm//assets/js/18.0982018c.js"><link rel="prefetch" href="/slm//assets/js/19.cbbed352.js"><link rel="prefetch" href="/slm//assets/js/20.daf4de20.js"><link rel="prefetch" href="/slm//assets/js/21.90ca764b.js"><link rel="prefetch" href="/slm//assets/js/22.2fa1264b.js"><link rel="prefetch" href="/slm//assets/js/23.7c813e43.js"><link rel="prefetch" href="/slm//assets/js/24.726227d8.js"><link rel="prefetch" href="/slm//assets/js/25.04ac8f49.js"><link rel="prefetch" href="/slm//assets/js/26.08489a6f.js"><link rel="prefetch" href="/slm//assets/js/27.1d09ecbc.js"><link rel="prefetch" href="/slm//assets/js/28.b46b4aec.js"><link rel="prefetch" href="/slm//assets/js/29.c5d4faa0.js"><link rel="prefetch" href="/slm//assets/js/30.d2a7c8d3.js"><link rel="prefetch" href="/slm//assets/js/31.eba867dd.js"><link rel="prefetch" href="/slm//assets/js/32.8c8f1f4a.js"><link rel="prefetch" href="/slm//assets/js/33.b81ddce9.js"><link rel="prefetch" href="/slm//assets/js/34.5f8c1317.js"><link rel="prefetch" href="/slm//assets/js/35.e6f1023f.js"><link rel="prefetch" href="/slm//assets/js/37.c438ded8.js"><link rel="prefetch" href="/slm//assets/js/38.ed3a59f0.js"><link rel="prefetch" href="/slm//assets/js/39.393efd03.js"><link rel="prefetch" href="/slm//assets/js/4.09f0cfaf.js"><link rel="prefetch" href="/slm//assets/js/40.1b0e11df.js"><link rel="prefetch" href="/slm//assets/js/41.46753ee5.js"><link rel="prefetch" href="/slm//assets/js/42.cf784262.js"><link rel="prefetch" href="/slm//assets/js/43.b348f8e8.js"><link rel="prefetch" href="/slm//assets/js/44.0f6c0cd2.js"><link rel="prefetch" href="/slm//assets/js/45.7601c947.js"><link rel="prefetch" href="/slm//assets/js/46.564396ba.js"><link rel="prefetch" href="/slm//assets/js/5.4447c1e5.js"><link rel="prefetch" href="/slm//assets/js/6.02ededca.js"><link rel="prefetch" href="/slm//assets/js/7.c135349a.js"><link rel="prefetch" href="/slm//assets/js/8.34d74ec2.js"><link rel="prefetch" href="/slm//assets/js/9.ff767013.js"><link rel="prefetch" href="/slm//assets/js/vendors~docsearch.6bd561f5.js">
    <link rel="stylesheet" href="/slm//assets/css/0.styles.6dc1a91a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/slm/" class="home-link router-link-active"><img src="/slm//img/logo.svg" alt="EclipseSLM" class="logo"></a> <!----> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/slm/" class="nav-link">
  Home
</a></div> <a href="https://github.com/eclipse-slm/slm" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/slm/" class="nav-link">
  Home
</a></div> <a href="https://github.com/eclipse-slm/slm" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Getting Started</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/slm/docs/getting-started/" aria-current="page" class="sidebar-link">Welcome</a></li><li><a href="/slm/docs/getting-started/overview/" class="sidebar-link">Overview</a></li><li><a href="/slm/docs/getting-started/architecture/" class="sidebar-link">Architecture</a></li><li><a href="/slm/docs/getting-started/installation/" aria-current="page" class="active sidebar-link">Installation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/slm/docs/getting-started/installation/#prerequisites" class="sidebar-link">Prerequisites</a></li><li class="sidebar-sub-header"><a href="/slm/docs/getting-started/installation/#install" class="sidebar-link">Install</a></li><li class="sidebar-sub-header"><a href="/slm/docs/getting-started/installation/#uninstall" class="sidebar-link">Uninstall</a></li><li class="sidebar-sub-header"><a href="/slm/docs/getting-started/installation/#components" class="sidebar-link">Components</a></li><li class="sidebar-sub-header"><a href="/slm/docs/getting-started/installation/#known-issues" class="sidebar-link">Known Issues</a></li></ul></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/slm/docs/getting-started/first-steps/" class="sidebar-heading clickable"><span>First Steps</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/slm/docs/getting-started/import/" class="sidebar-link">Import</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Usage</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Development</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h1> <h2 id="prerequisites"><a href="#prerequisites" class="header-anchor">#</a> Prerequisites</h2> <ul><li>Docker</li></ul> <h2 id="install"><a href="#install" class="header-anchor">#</a> Install</h2> <p>Set in your current shell the environment variable <code>SLM_HOSTNAME</code> to the hostname of the host where the stack will be
started. E.g.:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">SLM_HOSTNAME</span><span class="token operator">=</span>myhost.local
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">ATTENTION</p> <p><strong>Use lowercase for the hostname to avoid case problems (e.g. with token authentication)</strong></p></div> <p>Run the following command to start the SLM installer:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker</span> run <span class="token punctuation">\</span>
  <span class="token parameter variable">--rm</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--name</span> eclipse-slm-installer <span class="token punctuation">\</span>
  <span class="token parameter variable">--pull</span><span class="token operator">=</span>always <span class="token punctuation">\</span>
  <span class="token parameter variable">--env</span> <span class="token assign-left variable">SLM_HOSTNAME</span><span class="token operator">=</span><span class="token variable">$SLM_HOSTNAME</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--volume</span> /var/run/docker.sock:/var/run/docker.sock <span class="token punctuation">\</span>
  --add-host <span class="token variable">$SLM_HOSTNAME</span>:host-gateway <span class="token punctuation">\</span>
  ghcr.io/eclipse-slm/slm/installer:1.4.0-SNAPSHOT
</code></pre></div><p>By default, the installer sets up the SLM on the host on which it is running. To install the SLM on a remote host, the
following environment variables must be set and added via the <code>--env</code> flag to the <code>docker run</code> command above:</p> <table><thead><tr><th>Environment Variable</th> <th>Description</th></tr></thead> <tbody><tr><td>DEPLOYMENT_HOST_HOSTNAME</td> <td>Hostname or ip of the remote host</td></tr> <tr><td>DEPLOYMENT_HOST_USER</td> <td>SSH username of remote host</td></tr> <tr><td>DEPLOYMENT_HOST_PASSWORD</td> <td>SSH password of remote host</td></tr></tbody></table> <h2 id="uninstall"><a href="#uninstall" class="header-anchor">#</a> Uninstall</h2> <p>Run the following command to start the SLM uninstaller:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker</span> run <span class="token punctuation">\</span>
  <span class="token parameter variable">--rm</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--volume</span> /var/run/docker.sock:/var/run/docker.sock <span class="token punctuation">\</span>
  ghcr.io/eclipse-slm/slm/uninstaller:1.4.0-SNAPSHOT
</code></pre></div><h2 id="components"><a href="#components" class="header-anchor">#</a> Components</h2> <h3 id="ports"><a href="#ports" class="header-anchor">#</a> Ports</h3> <p>The different components of the stack can be reached under the following ports:</p> <ul><li>AWX: <a href="">http://myhost.local:80</a></li> <li>Consul: <a href="">http://myhost.local:8500</a></li> <li>Keycloak: <a href="">http://myhost.local:7080</a></li> <li>Resource Registry: <a href="">http://myhost.local:9010</a></li> <li>Service Registry: <a href="">http://myhost.local:9020</a></li> <li>Vault: <a href="">http://myhost.local:8200</a></li> <li>UI: <a href="">http://myhost.local:8080</a></li></ul> <div class="custom-block warning"><p class="custom-block-title">ATTENTION</p> <p><strong>You need to replace <code>myhost.local</code> with the hostname of the host where you have installated the Service Lifecycle Management (see section <a href="#start">Start</a>).</strong></p></div> <h3 id="get-configuration"><a href="#get-configuration" class="header-anchor">#</a> Get configuration</h3> <p>Most of the settings and credentials are created automatically during first start of the stack. If you want to access the different components of the Service Lifecycle Management stack you need to export the configuration. Wait until the stack is fully started and all init containers have stopped. Then run the config exporter container:</p> <div class="language- extra-class"><pre class="language-text"><code>docker-compose up --force-recreate config-exporter
</code></pre></div><p>It will generate by default a sub-directory <code>config/_conf_generated</code> relative to your docker-compose.yml file containing
the configuration of the setup stack (<code>slm-config.yml</code>). If you want another target directory edit in file <code>config-exporter.yml</code>
the host path of this volume:</p> <div class="language- extra-class"><pre class="language-text"><code>- ./config:/project
</code></pre></div><h2 id="known-issues"><a href="#known-issues" class="header-anchor">#</a> Known Issues</h2> <h3 id="default-deployment-capabilities-missing"><a href="#default-deployment-capabilities-missing" class="header-anchor">#</a> Default Deployment Capabilities missing</h3> <p>By default the SLM setup routine adds deployment capabilities for</p> <ul><li>docker</li> <li>docker-swarm</li> <li>k3s</li></ul> <p>which are added during the initial startup. In rare cases this adding process fails and consequently no deployment
capabilities are available in the UI:</p> <figure><img src="/slm//img/figures/installation/known-issues-missing-dcs-dc-button-disabled.png"> <figcaption>Deployment Capability Button disabled because of missing single host deployment capabilities</figcaption></figure> <figure><img src="/slm//img/figures/installation/known-issues-missing-dcs-cluster-button-disabled.png"> <figcaption>Cluster Button disabled because of missing multi host deployment capabilities</figcaption></figure> <p>To fix this start the container <code>resource-registry-init</code> again by running:</p> <div class="language- extra-class"><pre class="language-text"><code>docker-compose up -d resource-registry-init
</code></pre></div><p>After the container has started and has added the deployment capabilities and it will stop by itself. The capabilities (single
host and cluster) should be available after reloading the ui:</p> <figure><img src="/slm//img/figures/installation/known-issues-missing-dcs-dc-button-enabled.png"> <figcaption>Deployment Capability Button enabled</figcaption></figure> <figure><img src="/slm//img/figures/installation/known-issues-missing-dcs-cluster-button-enabled.png"> <figcaption>Cluster Create Button enabled</figcaption></figure> <figure><img src="/slm//img/figures/installation/known-issues-missing-dcs-cluster-types-available.png"> <figcaption>Default Cluster Types available in selection form</figcaption></figure></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/slm/docs/getting-started/architecture/" class="prev">
        Architecture
      </a></span> <span class="next"><a href="/slm/docs/getting-started/first-steps/">
        First Steps
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/slm//assets/js/app.6dfda492.js" defer></script><script src="/slm//assets/js/3.32cec118.js" defer></script><script src="/slm//assets/js/2.b754552f.js" defer></script><script src="/slm//assets/js/36.52862131.js" defer></script>
  </body>
</html>
